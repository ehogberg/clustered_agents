<h2>Define A New Stateful Object</h2>
    <.simple_form for={@form}
        phx-change="validate"
        phx-submit="save"
    >
        <.input field={@form[:value]} label="Value"/>
        <.input field={@form[:description]} label="Description" />

        <input class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded-full" type="submit" value="Save" />
    </.simple_form>


<h2>Cluster Details</h2>

<ul>
    <li :for={node <- @cluster_nodes}>
        <%= node %>
    </li>
</ul>

<h2>Known Stateful Objects</h2>
<.table id="agents" rows={@streams.agent_list} >
    <:col :let={ {_, state}} label="ID"><%= state.id %></:col>
    <:col :let={ {_, state}} label="Node"><%= state.node %></:col>
    <:col :let={{_,state}} label="PID"><%= :erlang.pid_to_list(state.pid) %></:col>
    <:action :let={{_,state}}>
        <.link phx-click="edit_state"
            phx-value-state-id={state.id}>
            Edit
        </.link>
    </:action>
    <:action :let={{dom_id,state}}>
        <.link phx-click={JS.push("delete_state", value: %{"state-id" => state.id}) |> hide("##{dom_id}")}
            data-confirm="Are you sure?">
            Delete
        </.link>
    </:action>
</.table>

